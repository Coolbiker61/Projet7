document.querySelector(".offset-top").style.height=document.querySelector("nav").offsetHeight+"px",document.onreadystatechange=function(){if("complete"==document.readyState)if(sessionStorage.getItem("token")){var requete=new XMLHttpRequest;requete.onreadystatechange=function(){if(this.readyState==XMLHttpRequest.DONE&&200!=this.status)alert("Vous avez été déconnecté. Vous aller être rediriger vers la page de connexion."),window.setTimeout(()=>{window.location.href="/auth/login"},2e3);else if(this.readyState==XMLHttpRequest.DONE&&200==this.status){var response=JSON.parse(this.responseText);if(document.getElementById("username").innerHTML=response.username,response.isAdmin){var html='<div class="menu_profil_ligne" tabindex="0" ><a href="/admin/users">Administration</a></div>';document.getElementById("logout").insertAdjacentHTML("beforebegin",html)}document.querySelector(".offset-top").style.height=document.querySelector("nav").offsetHeight+"px",document.getElementById("loading").hidden=!0,document.querySelector(".back-login").style.setProperty("visibility","visible")}},requete.open("GET","http://localhost:3000/api/v1/auth/profil"),requete.setRequestHeader("Content-Type","application/json"),requete.setRequestHeader("Authorization","Bearer "+sessionStorage.getItem("token")),requete.send()}else window.setTimeout(()=>{window.location.href="/auth/login"},200)};